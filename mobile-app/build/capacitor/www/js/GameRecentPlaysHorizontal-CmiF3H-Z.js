import{j as e,R as l}from"./three-DV31HySq.js";import{aR as c,aS as h,aT as p,aU as g}from"./index-BarUt2o_.js";function f({time:n,suffix:a="ago"}){const[i,s]=l.useState(Date.now());l.useEffect(()=>{const x=setInterval(()=>s(Date.now()),1e3);return()=>clearInterval(x)},[]);const r=i-n,t=Math.floor(r/1e3),o=Math.floor(t/60),d=Math.floor(o/60);return d>0?`${d}h`:o>0?`${o}m`:`${Math.max(1,t)}s`}function j({gameId:n,limit:a=10}){const i=c({gameId:n,limit:a});h("md");const{openShareModal:s}=p(),r=[...i];for(;r.length<a;)r.push(null);return e.jsx(e.Fragment,{children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"0.75rem 0.5rem",background:"rgba(0, 0, 0, 0.3)",borderRadius:"12px",border:"1px solid rgba(255, 215, 0, 0.2)",backdropFilter:"blur(10px)",margin:"0",minHeight:"60px",width:"100%",maxWidth:"100%",boxSizing:"border-box",overflow:"hidden",position:"relative"},children:[e.jsx("div",{style:{minWidth:"fit-content",maxWidth:"120px",fontSize:"0.9rem",fontWeight:"600",color:"#ffd700",textTransform:"uppercase",letterSpacing:"0.5px",flexShrink:0},children:"Recent Plays"}),e.jsx("div",{style:{display:"flex",gap:"0.75rem",overflowX:"auto",overflowY:"hidden",flex:1,minWidth:0,maxWidth:"100%",width:"100%",scrollBehavior:"smooth",WebkitOverflowScrolling:"touch",scrollbarWidth:"thin",scrollbarColor:"rgba(255, 215, 0, 0.3) transparent",paddingBottom:"2px",boxSizing:"border-box"},children:r.map((t,o)=>t?e.jsx(u,{event:t,onClick:()=>{console.log("Horizontal click handler called with event:",t),console.log("openShareModal function:",s),s(t)}},t.signature):e.jsx(b,{},`placeholder-${o}`))})]})})}function u({event:n,onClick:a}){const i=n.data,s=g(i.tokenMint),r=i.payout.toNumber()-i.wager.toNumber(),t=r>=0,o=i.payout.toNumber()/i.wager.toNumber();return e.jsxs("div",{onClick:a,style:{minWidth:"120px",maxWidth:"160px",width:"140px",height:"40px",display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem",borderRadius:"8px",background:"rgba(255, 255, 255, 0.05)",border:`1px solid ${t?"rgba(0, 255, 0, 0.3)":"rgba(255, 0, 0, 0.3)"}`,cursor:a?"pointer":"default",transition:"all 0.2s ease",flexShrink:1,boxSizing:"border-box"},children:[e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:`linear-gradient(45deg, ${t?"#00ff88":"#ff4444"}, ${t?"#00cc66":"#cc2222"})`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",fontWeight:"bold",color:"white"},children:i.user.toBase58().slice(0,2).toUpperCase()}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsx("div",{style:{fontSize:"0.75rem",fontWeight:"600",color:t?"#00ff88":"#ff4444",lineHeight:1},children:o>0?`${o.toFixed(2)}x`:"Lost"}),e.jsx("div",{style:{fontSize:"0.65rem",color:"rgba(255, 255, 255, 0.6)",lineHeight:1},children:e.jsx(f,{time:n.time})})]}),e.jsxs("div",{style:{fontSize:"0.7rem",fontWeight:"500",color:t?"#00ff88":"#ff4444",textAlign:"right"},children:[t?"+":"",(r/10**(s?.decimals||9)).toFixed(3)]})]})}function b(){return e.jsxs("div",{style:{minWidth:"120px",maxWidth:"160px",width:"140px",height:"40px",display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem",borderRadius:"8px",background:"rgba(255, 255, 255, 0.02)",border:"1px solid rgba(255, 255, 255, 0.05)",opacity:.3,flexShrink:1,boxSizing:"border-box"},children:[e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.1)"}}),e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"2px"},children:[e.jsx("div",{style:{height:"8px",width:"60%",background:"rgba(255, 255, 255, 0.1)",borderRadius:"2px"}}),e.jsx("div",{style:{height:"6px",width:"40%",background:"rgba(255, 255, 255, 0.08)",borderRadius:"2px"}})]}),e.jsx("div",{style:{height:"8px",width:"30px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"2px"}})]})}export{j as G};
