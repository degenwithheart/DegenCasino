import{R as n,j as e}from"./three-DV31HySq.js";import{aC as z,G as r,aH as E,aI as T,aJ as A,aK as H,an as V,aL as F,T as f,aM as _,aN as U,aP as p,aO as $,aV as J}from"./index-BarUt2o_.js";import{G as q}from"./GameStatsHeader-DfbFCrGS.js";import{G as Y}from"./GameRecentPlaysHorizontal-CmiF3H-Z.js";import{G as K}from"./GameControlsSection-BZ3LzTmM.js";import"./react-vendor-faCf7XlP.js";import"./blockchain-C0nfa7Sw.js";import"./physics-audio-Bm3pLP40.js";const Q="/assets/win-BDxJqVma.mp3",X="/assets/win-BDxJqVma.mp3",Z="/assets/win-BDxJqVma.mp3",ee="/assets/win-BDxJqVma.mp3",te="/assets/win-BDxJqVma.mp3",oe=1200,ne=800,a={gold:"#d4a574",background:"#0a0511",light:"#f4e9e1",nothing:"#ff4444"},g={double:{win:"#00ff55"},triple:{win:"#ff8800"},degen:{win:"#ff00ff"}},t=[{label:"2x",name:"double",outcomes:2,winLabel:"Double!",loseLabel:"Nothing",color:g.double.win,description:"50% chance to double your bet"},{label:"3x",name:"triple",outcomes:3,winLabel:"Triple!",loseLabel:"Nothing",color:g.triple.win,description:"33% chance to triple your bet"},{label:"10x",name:"degen",outcomes:10,winLabel:"Degen!",loseLabel:"Nothing",color:g.degen.win,description:"10% chance for 10x your bet"}];function We(){const y=z({gameName:"Double or Nothing",description:"Risk it all for double! High-stakes decision game where you can double your winnings or lose everything",rtp:95,maxWin:"2x"});r.useGame();const j=E(),u=T(),[d,b]=A(),{settings:se}=H(),S=n.useRef(null),{mobile:s}=V();F({win:Z,lose:Q,play:X,double:ee,nothing:te});const v=n.useRef(null);n.useRef();const[o,h]=n.useState(0),[i,ae]=n.useState("idle"),[ie,le]=n.useState(null),[re,de]=n.useState(null),[ce,w]=n.useState(null),[xe,pe]=n.useState([]),[ge,ue]=n.useState(0),[be,C]=n.useState(0),[W,k]=n.useState(0),[I,N]=n.useState(0),[R,D]=n.useState(0),[P,he]=n.useState(!1),[m,B]=n.useState(0),G=()=>{},O=()=>{},L=()=>{},M=u?t[o].outcomes*.99:0;d*M>(u?.maxPayout||0);const c=P||j.isPlaying;return e.jsxs(e.Fragment,{children:[y,e.jsx(r.Portal,{target:"recentplays",children:e.jsx(Y,{gameId:"doubleornothing-v2"})}),e.jsx(r.Portal,{target:"stats",children:e.jsx(q,{gameName:"Double or Nothing",gameMode:"V2",rtp:"94",stats:{gamesPlayed:W,wins:I,losses:R},onReset:()=>{k(0),N(0),D(0),C(0),B(0)},isMobile:s})}),e.jsx(r.Portal,{target:"screen",children:e.jsxs("div",{style:{width:"100%",height:"100%",position:"relative",background:a.background,perspective:"100px"},children:[e.jsx("canvas",{ref:v,width:oe,height:ne,onClick:G,onMouseMove:O,onMouseLeave:()=>w(null),style:{position:"absolute",top:"20px",left:"20px",right:"20px",bottom:"140px",width:"calc(100% - 40px)",height:"calc(100% - 160px)",objectFit:"contain",background:a.background,cursor:i==="idle"&&!c?"pointer":"default",borderRadius:"12px",border:"2px solid rgba(212, 165, 116, 0.4)",zIndex:0}}),(i==="win"||i==="lose")&&!c&&e.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0, 0, 0, 0.9)",borderRadius:"16px",padding:"32px",textAlign:"center",color:i==="win"?t[o].color:a.nothing,border:`2px solid ${i==="win"?t[o].color:a.nothing}`,backdropFilter:"blur(10px)",zIndex:100},children:[e.jsx("div",{style:{fontSize:"32px",fontWeight:"bold",marginBottom:"16px"},children:i==="win"?`${t[o].winLabel} ðŸŽ‰`:"Nothing ðŸ’¸"}),m>0&&e.jsxs("div",{style:{fontSize:"18px",color:a.gold,fontWeight:"bold"},children:["Won: ",e.jsx(f,{amount:m})]})]}),e.jsxs(K,{children:[e.jsxs("div",{style:{flex:s?"1":"0 0 140px",height:"100%",background:`linear-gradient(135deg, ${t[o].color}15 0%, ${t[o].color}25 50%, ${t[o].color}15 100%)`,borderRadius:"12px",border:`2px solid ${t[o].color}40`,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",boxShadow:`0 4px 16px ${t[o].color}20, inset 0 1px 0 ${t[o].color}30`,backdropFilter:"blur(8px)"},children:[e.jsx("div",{style:{fontSize:s?"11px":"14px",fontWeight:"bold",color:t[o].color,textShadow:"0 2px 4px rgba(0, 0, 0, 0.3)",marginBottom:"4px"},children:"MODE"}),e.jsx("div",{style:{fontSize:s?"14px":"16px",color:t[o].color,fontWeight:"600"},children:t[o].label})]}),e.jsxs("div",{style:{flex:s?"1":"0 0 140px",height:"100%",background:"linear-gradient(135deg, rgba(76, 175, 80, 0.15) 0%, rgba(46, 125, 50, 0.25) 50%, rgba(76, 175, 80, 0.15) 100%)",borderRadius:"12px",border:"2px solid rgba(76, 175, 80, 0.4)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",boxShadow:"0 4px 16px rgba(76, 175, 80, 0.2), inset 0 1px 0 rgba(76, 175, 80, 0.3)",backdropFilter:"blur(8px)"},children:[e.jsx("div",{style:{fontSize:s?"11px":"14px",fontWeight:"bold",color:"#4caf50",textShadow:"0 2px 4px rgba(0, 0, 0, 0.3)",marginBottom:"4px"},children:"WIN CHANCE"}),e.jsxs("div",{style:{fontSize:s?"16px":"18px",color:"rgba(76, 175, 80, 0.9)",fontWeight:"600"},children:[(100/t[o].outcomes).toFixed(1),"%"]})]}),e.jsxs("div",{style:{flex:s?"1":"0 0 140px",height:"100%",background:"linear-gradient(135deg, rgba(255, 152, 0, 0.15) 0%, rgba(245, 124, 0, 0.25) 50%, rgba(255, 152, 0, 0.15) 100%)",borderRadius:"12px",border:"2px solid rgba(255, 152, 0, 0.4)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",boxShadow:"0 4px 16px rgba(255, 152, 0, 0.2), inset 0 1px 0 rgba(255, 152, 0, 0.3)",backdropFilter:"blur(8px)"},children:[e.jsx("div",{style:{fontSize:s?"11px":"14px",fontWeight:"bold",color:"#ff9800",textShadow:"0 2px 4px rgba(0, 0, 0, 0.3)",marginBottom:"4px"},children:"MULTIPLIER"}),e.jsxs("div",{style:{fontSize:s?"16px":"18px",color:"rgba(255, 152, 0, 0.9)",fontWeight:"600"},children:[t[o].outcomes.toFixed(0),"x"]})]}),e.jsxs("div",{style:{flex:s?"1":"0 0 140px",height:"100%",background:"linear-gradient(135deg, rgba(139, 90, 158, 0.15) 0%, rgba(106, 27, 154, 0.25) 50%, rgba(139, 90, 158, 0.15) 100%)",borderRadius:"12px",border:"2px solid rgba(139, 90, 158, 0.4)",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",boxShadow:"0 4px 16px rgba(139, 90, 158, 0.2), inset 0 1px 0 rgba(139, 90, 158, 0.3)",backdropFilter:"blur(8px)"},children:[e.jsx("div",{style:{fontSize:s?"11px":"14px",fontWeight:"bold",color:"#8b5a9e",textShadow:"0 2px 4px rgba(0, 0, 0, 0.3)",marginBottom:"4px"},children:"POTENTIAL"}),e.jsx("div",{style:{fontSize:s?"16px":"18px",color:"rgba(139, 90, 158, 0.9)",fontWeight:"600"},children:e.jsx(f,{amount:d*t[o].outcomes})})]})]}),e.jsx(_,{ref:S,style:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none",zIndex:1e3}})]})}),e.jsxs(r.Portal,{target:"controls",children:[e.jsx(U,{wager:d,setWager:b,onPlay:()=>{},hideWager:!0,hideMessage:"Make Your Choice! ðŸŽ²",children:e.jsxs("div",{style:{background:"rgba(212, 165, 116, 0.1)",borderRadius:"8px",padding:"16px",marginBottom:"16px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsx("span",{style:{color:a.light,fontWeight:"bold"},children:"Game Mode"}),e.jsx("span",{style:{color:a.gold,fontSize:"18px",fontWeight:"bold"},children:t[o].label})]}),e.jsx("div",{style:{display:"flex",gap:"8px"},children:t.map((x,l)=>e.jsx(p,{onClick:()=>h(l),disabled:c,children:x.label},l))})]})}),e.jsxs($,{children:[" ",e.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center",flexWrap:"wrap"},children:[e.jsx(J,{value:d,onChange:b}),e.jsxs("div",{style:{background:"rgba(212, 165, 116, 0.1)",borderRadius:"8px",padding:"12px",minWidth:"200px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsx("span",{style:{color:a.light,fontSize:"14px",fontWeight:"bold"},children:"Mode"}),e.jsx("span",{style:{color:a.gold,fontSize:"16px",fontWeight:"bold"},children:t[o].label})]}),e.jsx("div",{style:{display:"flex",gap:"8px"},children:t.map((x,l)=>e.jsx(p,{onClick:()=>h(l),disabled:c,children:x.label},l))})]}),i!=="idle"&&e.jsx(p,{onClick:L,children:"Reset"})]})]})]})]})}export{We as default};
