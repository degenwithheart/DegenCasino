/* Mobile APK Viewport Fixes */
/* This CSS specifically addresses zoom and viewport issues in Capacitor Android apps */

/* Prevent zoom on form inputs and ensure proper viewport behavior */
html {
    /* Disable zoom entirely */
    -webkit-text-size-adjust: none;
    -moz-text-size-adjust: none;
    -ms-text-size-adjust: none;
    text-size-adjust: none;

    /* Ensure proper scaling */
    width: 100%;
    height: 100%;
    overflow-x: hidden;
}

body {
    /* Prevent any default zoom behaviors */
    -webkit-text-size-adjust: 100%;
    -moz-text-size-adjust: 100%;
    -ms-text-size-adjust: 100%;
    text-size-adjust: 100%;

    /* Ensure body fills viewport properly */
    width: 100%;
    min-height: 100vh;
    min-height: 100dvh;
    /* Dynamic viewport height for mobile */
    overflow-x: hidden;
    position: relative;

    /* Prevent bounce scrolling on iOS */
    overscroll-behavior: none;

    /* Smooth scrolling */
    -webkit-overflow-scrolling: touch;
}

/* Prevent zoom on input focus (common mobile issue) */
input,
textarea,
select {
    font-size: 16px !important;
    /* Prevents zoom on iOS */
    -webkit-text-size-adjust: 100%;
    transform: translateZ(0);
    /* Force hardware acceleration */
}

/* Ensure all containers respect viewport */
#root {
    width: 100%;
    min-height: 100vh;
    min-height: 100dvh;
    position: relative;
    overflow-x: hidden;
}

/* Fix for Capacitor WebView container */
.capacitor-webview {
    width: 100% !important;
    height: 100% !important;
    overflow-x: hidden !important;
}

/* Prevent horizontal scroll issues */
* {
    max-width: 100vw;
}

/* Mobile-specific viewport fixes */
@media screen and (max-width: 768px) {

    html,
    body {
        /* Force proper viewport dimensions */
        width: 100vw;
        max-width: 100vw;
        overflow-x: hidden;
    }

    /* Ensure no elements cause horizontal scroll */
    * {
        max-width: 100vw;
        box-sizing: border-box;
    }

    /* Fix for potential game container issues */
    canvas {
        max-width: 100vw !important;
        height: auto;
    }
}

/* Capacitor-specific fixes */
@supports (-webkit-touch-callout: none) {

    /* iOS WebView specific fixes */
    body {
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        user-select: none;
        -webkit-tap-highlight-color: transparent;
    }
}

/* Android WebView specific fixes */
@media screen and (orientation: portrait) {
    html {
        height: 100vh;
        height: 100dvh;
    }

    body {
        min-height: 100vh;
        min-height: 100dvh;
    }
}

@media screen and (orientation: landscape) {
    html {
        height: 100vh;
        height: 100dvh;
    }

    body {
        min-height: 100vh;
        min-height: 100dvh;
    }
}